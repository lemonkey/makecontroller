<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<LINK href="doxygen.css" />
<title>MAKE Controller Kit</title>
<link href="mt_doxygen.css" rel="stylesheet" type="text/css" />
<link href="../resources/mt_doxytabs.css" rel="stylesheet" type="text/css" />
</head>

<body>
<div align="left">
  <table width="95%" border="0">
    <tr>
      <td><div align="center"><a href="http://www.makingthings.com"><img src="../resources/logo_brown_medium.png" alt="MakingThings" width="200" height="78" border="0" align="middle" longdesc="http://www.makingthings.com" /></a></div></td>
      <td><div align="center"><font size="6">MAKE Controller Kit</font></div></td>
      <td><div align="center"><a href="http://www.makezine.com"><img src="../resources/make_logo.png" alt="MAKE Zine" width="164" height="73" border="0" align="middle" longdesc="http://www.makezine.com" /></a></div></td>
    </tr>
  </table>
<span class="style2"><a href="http://www.makingthings.com"></a></span></div>
</body>
</html>
<!-- Generated by Doxygen 1.4.6-NO -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<h1>Network<br>
<small>
[<a class="el" href="group___controller.html">Controller</a>]</small>
</h1>The Network subsystem manages the Ethernet controller.  
<a href="#_details">More...</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___network.html#g0989090dd4929827de8708269f808e5b">Network_SetActive</a> (int state)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets whether the Network subsystem is active.  <a href="#g0989090dd4929827de8708269f808e5b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___network.html#gb1f4725187ab9011d327ed8e05e4746c">Network_GetActive</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the active state of the Network subsystem.  <a href="#gb1f4725187ab9011d327ed8e05e4746c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___network.html#g8efe3e0915b89c461da231653b7bd3b7">Network_SetAddress</a> (int a0, int a1, int a2, int a3)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the IP address of the Make Controller.  <a href="#g8efe3e0915b89c461da231653b7bd3b7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___network.html#g8f1c006937cf5985de44cf8cd0751642">Network_SetMask</a> (int a0, int a1, int a2, int a3)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the network mask of the Make Controller on your local network.  <a href="#g8f1c006937cf5985de44cf8cd0751642"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___network.html#g1a5be7ffdac1a43d83f6c84369d0bb55">Network_SetGateway</a> (int a0, int a1, int a2, int a3)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the gateway address for the local network the Make Controller is on.  <a href="#g1a5be7ffdac1a43d83f6c84369d0bb55"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___network.html#gee640cb0ab458e093969dcbdfed7e246">Network_SetValid</a> (int v)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a checksum for the current address settings and store it in EEPROM.  <a href="#gee640cb0ab458e093969dcbdfed7e246"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___network.html#g66046b3c42a64a18478cdcc685e22528">Network_GetValid</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read the checksum for address settings in EEPROM, and determine if it matches the current settings.  <a href="#g66046b3c42a64a18478cdcc685e22528"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___network.html#gf5c24462c4ca5bfcf8a9ffdb80c290d8">Network_GetAddress</a> (int *a0, int *a1, int *a2, int *a3)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read the IP address stored in EEPROM.  <a href="#gf5c24462c4ca5bfcf8a9ffdb80c290d8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___network.html#ga0837a01a5bd814cae2a080f8b2bf86b">Network_GetMask</a> (int *a0, int *a1, int *a2, int *a3)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read the network mask stored in EEPROM.  <a href="#ga0837a01a5bd814cae2a080f8b2bf86b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___network.html#ge91ce5f124fcfbabc529d75fc222d49e">Network_GetGateway</a> (int *a0, int *a1, int *a2, int *a3)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read the gateway address stored in EEPROM.  <a href="#ge91ce5f124fcfbabc529d75fc222d49e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___network.html#g7e4b76e6d4a93aa7c281e5cbba6cc584">Socket</a> (int address, int port)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Make a new TCP socket connected to the address specified.  <a href="#g7e4b76e6d4a93aa7c281e5cbba6cc584"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___network.html#ge6f3b8841d0dd31991f348e941be4369">SocketRead</a> (void *socket, void *data, int length)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read from a TCP socket.  <a href="#ge6f3b8841d0dd31991f348e941be4369"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___network.html#gc2dd7a75d0883f0ba4ae4fede6305ba5">SocketWrite</a> (void *socket, void *data, int length)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write to a TCP socket.  <a href="#gc2dd7a75d0883f0ba4ae4fede6305ba5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___network.html#gf952e7296edc68dabf9d059fecfa61da">SocketClose</a> (void *socket)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Close a TCP socket.  <a href="#gf952e7296edc68dabf9d059fecfa61da"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___network.html#g19a37ffe799e0d2de090a24a03e38cb7">ServerSocket</a> (int port)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new TCP server socket and start listening for connections.  <a href="#g19a37ffe799e0d2de090a24a03e38cb7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___network.html#g17066cbe7e4510e8c89bba318140ff30">ServerSocketAccept</a> (void *serverSocket)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Accept an incoming connection to a ServerSocket that you have created.  <a href="#g17066cbe7e4510e8c89bba318140ff30"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___network.html#gd698a1f1aa9b0f2864056a0790417179">ServerSocketClose</a> (void *serverSocket)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Close a ServerSocket that you have created.  <a href="#gd698a1f1aa9b0f2864056a0790417179"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___network.html#g2cd3724da41c8c8235fa648a6fc9bcce">DatagramSocket</a> (int port)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a socket to read and write UDP packets.  <a href="#g2cd3724da41c8c8235fa648a6fc9bcce"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___network.html#g5aa01e1403bafbfca35746bcd44a5c83">DatagramSocketSend</a> (void *datagramSocket, int address, int port, void *data, int length)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a UDP packet to a specified address.  <a href="#g5aa01e1403bafbfca35746bcd44a5c83"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___network.html#ge810fd22358d4358b214bb99c20f363f">DatagramSocketReceive</a> (void *datagramSocket, int incomingPort, int *address, int *port, void *data, int length)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Receive a UDP packet.  <a href="#ge810fd22358d4358b214bb99c20f363f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___network.html#g2d63455f4c8feff3399c73f70e3300b7">DatagramSocketClose</a> (void *socket)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Close a <a class="el" href="group___network.html#g2cd3724da41c8c8235fa648a6fc9bcce">DatagramSocket()</a>.  <a href="#g2d63455f4c8feff3399c73f70e3300b7"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The Network subsystem manages the Ethernet controller. 
<p>
This subsystem is based on LwIP, an open source TCP/IP stack. It provides TCP and UPD sockets and handles storage and retrieval of the IP address, address mask, gateway address. Also handled is the device's MAC address.<p>
IP Address, mask and gatway default to 192.168.0.200, 255.255.255.0 and 192.168.0.1. The MAC address defaults to AC.DE.48.55.x.y where x &amp; y are calculated from the unit's serial number which is handled by the <a class="el" href="group___system.html">System</a> subsystem.<p>
From OSC this subsystem can be addressed as "network". It has the following properties: <ul>
<li>active - can be used to activate / deactivate the Network subsystem and to read its status </li>
<li>address - reading or writing the ip address in string a1.a2.a3.a4 form </li>
<li>mask - reading or writing the ip address mask in string m1.m2.m3.m4 form </li>
<li>gateway - reading or writing the ip address mask in string g1.g2.g3.g4 form </li>
<li>valid - reading or asserting the validity of the currently stored address set </li>
<li>mac - reading the MAC address in string form. To change it see the <a class="el" href="group___system.html">System</a> subsystem</li>
</ul>
<dl compact><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>provide some address packing and unpacking functions <p>
re-org the function names slightly so they conform a bit better to the rest of the system <p>
remove the port param from the datagram socket create function - it's not used</dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g2cd3724da41c8c8235fa648a6fc9bcce"></a><!-- doxytag: member="network.c::DatagramSocket" ref="g2cd3724da41c8c8235fa648a6fc9bcce" args="(int port)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void* DatagramSocket           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>port</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a socket to read and write UDP packets. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>An integer specifying the port to open. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a pointer to the socket created. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd>lwIP </dd></dl>

<p>
Definition at line <a class="el" href="network_8c-source.html#l00553">553</a> of file <a class="el" href="network_8c-source.html">network.c</a>.
<p>
References <a class="el" href="network_8c-source.html#l00096">Network_SetActive()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="g2d63455f4c8feff3399c73f70e3300b7"></a><!-- doxytag: member="network.c::DatagramSocketClose" ref="g2d63455f4c8feff3399c73f70e3300b7" args="(void *socket)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void DatagramSocketClose           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>socket</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Close a <a class="el" href="group___network.html#g2cd3724da41c8c8235fa648a6fc9bcce">DatagramSocket()</a>. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>socket</em>&nbsp;</td><td>A pointer to the <a class="el" href="group___network.html#g2cd3724da41c8c8235fa648a6fc9bcce">DatagramSocket()</a> to close. </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd>lwIP </dd></dl>

<p>
Definition at line <a class="el" href="network_8c-source.html#l00659">659</a> of file <a class="el" href="network_8c-source.html">network.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ge810fd22358d4358b214bb99c20f363f"></a><!-- doxytag: member="network.c::DatagramSocketReceive" ref="ge810fd22358d4358b214bb99c20f363f" args="(void *datagramSocket, int incomingPort, int *address, int *port, void *data, int length)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int DatagramSocketReceive           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname" nowrap> <em>datagramSocket</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>incomingPort</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>length</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Receive a UDP packet. 
<p>
This function will block until a packet is received. The address and port of the sender are returned in the locations pointed to by the address and port parameters. If the incoming packet is larger than the specified size of the buffer, it will be truncated. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>datagramSocket</em>&nbsp;</td><td>A pointer to the <a class="el" href="group___network.html#g2cd3724da41c8c8235fa648a6fc9bcce">DatagramSocket()</a> you're using to read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>incomingPort</em>&nbsp;</td><td>An integer specifying the port to listen on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>A pointer to the IP address that sent the packet. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>A pointer to the port of the sender. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>A pointer to the buffer to read into. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>An integer specifying the number of bytes in the packet being read. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>An integer corresponding to the number of bytes successfully read. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd>lwIP </dd></dl>

<p>
Definition at line <a class="el" href="network_8c-source.html#l00624">624</a> of file <a class="el" href="network_8c-source.html">network.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="g5aa01e1403bafbfca35746bcd44a5c83"></a><!-- doxytag: member="network.c::DatagramSocketSend" ref="g5aa01e1403bafbfca35746bcd44a5c83" args="(void *datagramSocket, int address, int port, void *data, int length)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int DatagramSocketSend           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname" nowrap> <em>datagramSocket</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>length</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Send a UDP packet to a specified address. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>datagramSocket</em>&nbsp;</td><td>A pointer to the <a class="el" href="group___network.html#g2cd3724da41c8c8235fa648a6fc9bcce">DatagramSocket()</a> you're using to write. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>An integer specifying the IP address to write to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>An integer specifying the port to write to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>A pointer to the packet to send. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>An integer specifying the number of bytes in the packet being sent. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>An integer corresponding to the number of bytes successfully written. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd>lwIP </dd></dl>

<p>
Definition at line <a class="el" href="network_8c-source.html#l00580">580</a> of file <a class="el" href="network_8c-source.html">network.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="gb1f4725187ab9011d327ed8e05e4746c"></a><!-- doxytag: member="network.c::Network_GetActive" ref="gb1f4725187ab9011d327ed8e05e4746c" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int Network_GetActive           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the active state of the Network subsystem. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>State - 1/non-zero (active) or 0 (inactive). </dd></dl>

<p>
Definition at line <a class="el" href="network_8c-source.html#l00113">113</a> of file <a class="el" href="network_8c-source.html">network.c</a>.
<p>
Referenced by <a class="el" href="debugosc_8c-source.html#l00159">Debug()</a>, and <a class="el" href="network_8c-source.html#l00846">NetworkOsc_PropertyGet()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="gf5c24462c4ca5bfcf8a9ffdb80c290d8"></a><!-- doxytag: member="network.c::Network_GetAddress" ref="gf5c24462c4ca5bfcf8a9ffdb80c290d8" args="(int *a0, int *a1, int *a2, int *a3)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int Network_GetAddress           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int *&nbsp;</td>
          <td class="mdname" nowrap> <em>a0</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>a1</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>a2</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>a3</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read the IP address stored in EEPROM. 
<p>
Pass in pointers to integers where the address should be stored.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>a0</em>&nbsp;</td><td>A pointer to an integer where the first of 4 numbers of the address is to be stored. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a1</em>&nbsp;</td><td>A pointer to an integer where the second of 4 numbers of the address is to be stored. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a2</em>&nbsp;</td><td>A pointer to an integer where the third of 4 numbers of the address is to be stored. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a3</em>&nbsp;</td><td>A pointer to an integer where the fourth of 4 numbers of the address is to be stored. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success. </dd></dl>

<p>
Definition at line <a class="el" href="network_8c-source.html#l00282">282</a> of file <a class="el" href="network_8c-source.html">network.c</a>.
<p>
References <a class="el" href="eeprom_8c-source.html#l00151">Eeprom_Read()</a>, <a class="el" href="eeprom_8h-source.html#l00076">EEPROM_SYSTEM_NET_ADDRESS</a>, <a class="el" href="network_8c-source.html#l00044">IP_ADDRESS_A</a>, <a class="el" href="network_8c-source.html#l00043">IP_ADDRESS_B</a>, <a class="el" href="network_8c-source.html#l00042">IP_ADDRESS_C</a>, <a class="el" href="network_8c-source.html#l00041">IP_ADDRESS_D</a>, and <a class="el" href="network_8c-source.html#l00246">Network_GetValid()</a>.
<p>
Referenced by <a class="el" href="network_8c-source.html#l00685">Network_Init()</a>, and <a class="el" href="network_8c-source.html#l00846">NetworkOsc_PropertyGet()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ge91ce5f124fcfbabc529d75fc222d49e"></a><!-- doxytag: member="network.c::Network_GetGateway" ref="ge91ce5f124fcfbabc529d75fc222d49e" args="(int *a0, int *a1, int *a2, int *a3)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int Network_GetGateway           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int *&nbsp;</td>
          <td class="mdname" nowrap> <em>a0</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>a1</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>a2</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>a3</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read the gateway address stored in EEPROM. 
<p>
Pass in pointers to integers where the gateway address should be stored.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>a0</em>&nbsp;</td><td>A pointer to an integer where the first of 4 numbers of the gateway address is to be stored. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a1</em>&nbsp;</td><td>A pointer to an integer where the second of 4 numbers of the gateway address is to be stored. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a2</em>&nbsp;</td><td>A pointer to an integer where the third of 4 numbers of the gateway address is to be stored. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a3</em>&nbsp;</td><td>A pointer to an integer where the fourth of 4 numbers of the gateway address is to be stored. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success. </dd></dl>

<p>
Definition at line <a class="el" href="network_8c-source.html#l00354">354</a> of file <a class="el" href="network_8c-source.html">network.c</a>.
<p>
References <a class="el" href="eeprom_8c-source.html#l00151">Eeprom_Read()</a>, <a class="el" href="eeprom_8h-source.html#l00078">EEPROM_SYSTEM_NET_GATEWAY</a>, <a class="el" href="network_8c-source.html#l00044">IP_ADDRESS_A</a>, <a class="el" href="network_8c-source.html#l00043">IP_ADDRESS_B</a>, <a class="el" href="network_8c-source.html#l00042">IP_ADDRESS_C</a>, <a class="el" href="network_8c-source.html#l00041">IP_ADDRESS_D</a>, and <a class="el" href="network_8c-source.html#l00246">Network_GetValid()</a>.
<p>
Referenced by <a class="el" href="network_8c-source.html#l00685">Network_Init()</a>, and <a class="el" href="network_8c-source.html#l00846">NetworkOsc_PropertyGet()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga0837a01a5bd814cae2a080f8b2bf86b"></a><!-- doxytag: member="network.c::Network_GetMask" ref="ga0837a01a5bd814cae2a080f8b2bf86b" args="(int *a0, int *a1, int *a2, int *a3)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int Network_GetMask           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int *&nbsp;</td>
          <td class="mdname" nowrap> <em>a0</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>a1</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>a2</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>a3</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read the network mask stored in EEPROM. 
<p>
Pass in pointers to integers where the mask should be stored.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>a0</em>&nbsp;</td><td>A pointer to an integer where the first of 4 numbers of the mask is to be stored. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a1</em>&nbsp;</td><td>A pointer to an integer where the second of 4 numbers of the mask is to be stored. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a2</em>&nbsp;</td><td>A pointer to an integer where the third of 4 numbers of the mask is to be stored. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a3</em>&nbsp;</td><td>A pointer to an integer where the fourth of 4 numbers of the mask is to be stored. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success. </dd></dl>

<p>
Definition at line <a class="el" href="network_8c-source.html#l00318">318</a> of file <a class="el" href="network_8c-source.html">network.c</a>.
<p>
References <a class="el" href="eeprom_8c-source.html#l00151">Eeprom_Read()</a>, <a class="el" href="eeprom_8h-source.html#l00077">EEPROM_SYSTEM_NET_MASK</a>, <a class="el" href="network_8c-source.html#l00044">IP_ADDRESS_A</a>, <a class="el" href="network_8c-source.html#l00043">IP_ADDRESS_B</a>, <a class="el" href="network_8c-source.html#l00042">IP_ADDRESS_C</a>, <a class="el" href="network_8c-source.html#l00041">IP_ADDRESS_D</a>, and <a class="el" href="network_8c-source.html#l00246">Network_GetValid()</a>.
<p>
Referenced by <a class="el" href="network_8c-source.html#l00685">Network_Init()</a>, and <a class="el" href="network_8c-source.html#l00846">NetworkOsc_PropertyGet()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="g66046b3c42a64a18478cdcc685e22528"></a><!-- doxytag: member="network.c::Network_GetValid" ref="g66046b3c42a64a18478cdcc685e22528" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int Network_GetValid           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read the checksum for address settings in EEPROM, and determine if it matches the current settings. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>An integer specifying the validity of the settings - 1 (valid) or 0 (invalid). </dd></dl>

<p>
Definition at line <a class="el" href="network_8c-source.html#l00246">246</a> of file <a class="el" href="network_8c-source.html">network.c</a>.
<p>
References <a class="el" href="eeprom_8c-source.html#l00151">Eeprom_Read()</a>, <a class="el" href="eeprom_8h-source.html#l00076">EEPROM_SYSTEM_NET_ADDRESS</a>, <a class="el" href="eeprom_8h-source.html#l00075">EEPROM_SYSTEM_NET_CHECK</a>, <a class="el" href="eeprom_8h-source.html#l00078">EEPROM_SYSTEM_NET_GATEWAY</a>, and <a class="el" href="eeprom_8h-source.html#l00077">EEPROM_SYSTEM_NET_MASK</a>.
<p>
Referenced by <a class="el" href="network_8c-source.html#l00282">Network_GetAddress()</a>, <a class="el" href="network_8c-source.html#l00354">Network_GetGateway()</a>, <a class="el" href="network_8c-source.html#l00318">Network_GetMask()</a>, and <a class="el" href="network_8c-source.html#l00846">NetworkOsc_PropertyGet()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="g0989090dd4929827de8708269f808e5b"></a><!-- doxytag: member="network.c::Network_SetActive" ref="g0989090dd4929827de8708269f808e5b" args="(int state)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int Network_SetActive           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>state</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets whether the Network subsystem is active. 
<p>
This is automatically called by any of the Socket functions. Make sure the address is set correctly before calling this function. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>state</em>&nbsp;</td><td>An integer specifying the active state - 1 (active) or 0 (inactive). </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success. </dd></dl>

<p>
Definition at line <a class="el" href="network_8c-source.html#l00096">96</a> of file <a class="el" href="network_8c-source.html">network.c</a>.
<p>
References <a class="el" href="network_8c-source.html#l00685">Network_Init()</a>.
<p>
Referenced by <a class="el" href="network_8c-source.html#l00553">DatagramSocket()</a>, <a class="el" href="network_8c-source.html#l00770">NetworkOsc_PropertySet()</a>, <a class="el" href="network_8c-source.html#l00502">ServerSocket()</a>, and <a class="el" href="network_8c-source.html#l00387">Socket()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="g8efe3e0915b89c461da231653b7bd3b7"></a><!-- doxytag: member="network.c::Network_SetAddress" ref="g8efe3e0915b89c461da231653b7bd3b7" args="(int a0, int a1, int a2, int a3)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int Network_SetAddress           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>a0</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>a1</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>a2</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>a3</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the IP address of the Make Controller. 
<p>
The IP address of the Make Controller, in dotted decimal form (xxx.xxx.xxx.xxx), can be set by passing in each of the numbers as a separate parameter. The default IP address of each Make Controller as it ships from the factory is 192.168.0.200<p>
This value is stored in EEPROM, so it persists even after the board is powered down.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>a0</em>&nbsp;</td><td>An integer corresponding to the first of 4 numbers in the address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a1</em>&nbsp;</td><td>An integer corresponding to the second of 4 numbers in the address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a2</em>&nbsp;</td><td>An integer corresponding to the third of 4 numbers in the address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a3</em>&nbsp;</td><td>An integer corresponding to the fourth of 4 numbers in the address. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success. </dd></dl>

<p>
Definition at line <a class="el" href="network_8c-source.html#l00134">134</a> of file <a class="el" href="network_8c-source.html">network.c</a>.
<p>
References <a class="el" href="eeprom_8h-source.html#l00076">EEPROM_SYSTEM_NET_ADDRESS</a>, <a class="el" href="eeprom_8c-source.html#l00106">Eeprom_Write()</a>, and <a class="el" href="network_8c-source.html#l00040">IP_ADDRESS</a>.
<p>
Referenced by <a class="el" href="network_8c-source.html#l00770">NetworkOsc_PropertySet()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="g1a5be7ffdac1a43d83f6c84369d0bb55"></a><!-- doxytag: member="network.c::Network_SetGateway" ref="g1a5be7ffdac1a43d83f6c84369d0bb55" args="(int a0, int a1, int a2, int a3)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int Network_SetGateway           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>a0</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>a1</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>a2</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>a3</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the gateway address for the local network the Make Controller is on. 
<p>
The gateway address is commonly 192.168.0.1 for many home networks. Set the gateway address in dotted decimal form (xxx.xxx.xxx.xxx), passing in each number as a separate parameter.<p>
This value is stored in EEPROM, so it persists even after the board is powered down.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>a0</em>&nbsp;</td><td>An integer corresponding to the first of 4 numbers in the gateway address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a1</em>&nbsp;</td><td>An integer corresponding to the second of 4 numbers in the gateway address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a2</em>&nbsp;</td><td>An integer corresponding to the third of 4 numbers in the gateway address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a3</em>&nbsp;</td><td>An integer corresponding to the fourth of 4 numbers in the gateway address. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success. </dd></dl>

<p>
Definition at line <a class="el" href="network_8c-source.html#l00190">190</a> of file <a class="el" href="network_8c-source.html">network.c</a>.
<p>
References <a class="el" href="eeprom_8h-source.html#l00078">EEPROM_SYSTEM_NET_GATEWAY</a>, <a class="el" href="eeprom_8c-source.html#l00106">Eeprom_Write()</a>, and <a class="el" href="network_8c-source.html#l00040">IP_ADDRESS</a>.
<p>
Referenced by <a class="el" href="network_8c-source.html#l00770">NetworkOsc_PropertySet()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="g8f1c006937cf5985de44cf8cd0751642"></a><!-- doxytag: member="network.c::Network_SetMask" ref="g8f1c006937cf5985de44cf8cd0751642" args="(int a0, int a1, int a2, int a3)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int Network_SetMask           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>a0</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>a1</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>a2</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>a3</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the network mask of the Make Controller on your local network. 
<p>
When on a subnet or local network, the network mask must be set in order for the gateway to route information to the board's IP address properly. The mask is commonly 255.255.255.0 for many home networks. Set the mask in dotted decimal form (xxx.xxx.xxx.xxx), passing in each number as a separate parameter.<p>
This value is stored in EEPROM, so it persists even after the board is powered down.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>a0</em>&nbsp;</td><td>An integer corresponding to the first of 4 numbers in the mask. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a1</em>&nbsp;</td><td>An integer corresponding to the second of 4 numbers in the mask. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a2</em>&nbsp;</td><td>An integer corresponding to the third of 4 numbers in the mask. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a3</em>&nbsp;</td><td>An integer corresponding to the fourth of 4 numbers in the mask. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success. </dd></dl>

<p>
Definition at line <a class="el" href="network_8c-source.html#l00163">163</a> of file <a class="el" href="network_8c-source.html">network.c</a>.
<p>
References <a class="el" href="eeprom_8h-source.html#l00077">EEPROM_SYSTEM_NET_MASK</a>, <a class="el" href="eeprom_8c-source.html#l00106">Eeprom_Write()</a>, and <a class="el" href="network_8c-source.html#l00040">IP_ADDRESS</a>.
<p>
Referenced by <a class="el" href="network_8c-source.html#l00770">NetworkOsc_PropertySet()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="gee640cb0ab458e093969dcbdfed7e246"></a><!-- doxytag: member="network.c::Network_SetValid" ref="gee640cb0ab458e093969dcbdfed7e246" args="(int v)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int Network_SetValid           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>v</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a checksum for the current address settings and store it in EEPROM. 
<p>
This should be called each time an address setting is changed so that if the board gets powered down, it will know when it comes back up whether or not the address settings is currently has are valid.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>v</em>&nbsp;</td><td>An integer specifying whether to validate the current settings (1) or to force them to be invalidated (0). Passing in 0 returns the address settings to their factory defaults. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success. </dd></dl>

<p>
Definition at line <a class="el" href="network_8c-source.html#l00213">213</a> of file <a class="el" href="network_8c-source.html">network.c</a>.
<p>
References <a class="el" href="eeprom_8c-source.html#l00151">Eeprom_Read()</a>, <a class="el" href="eeprom_8h-source.html#l00076">EEPROM_SYSTEM_NET_ADDRESS</a>, <a class="el" href="eeprom_8h-source.html#l00075">EEPROM_SYSTEM_NET_CHECK</a>, <a class="el" href="eeprom_8h-source.html#l00078">EEPROM_SYSTEM_NET_GATEWAY</a>, <a class="el" href="eeprom_8h-source.html#l00077">EEPROM_SYSTEM_NET_MASK</a>, and <a class="el" href="eeprom_8c-source.html#l00106">Eeprom_Write()</a>.
<p>
Referenced by <a class="el" href="network_8c-source.html#l00770">NetworkOsc_PropertySet()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="g19a37ffe799e0d2de090a24a03e38cb7"></a><!-- doxytag: member="network.c::ServerSocket" ref="g19a37ffe799e0d2de090a24a03e38cb7" args="(int port)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void* ServerSocket           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>port</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a new TCP server socket and start listening for connections. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>An integer specifying the port to listen on. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A pointer to the socket created. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd>lwIP </dd></dl>

<p>
Definition at line <a class="el" href="network_8c-source.html#l00502">502</a> of file <a class="el" href="network_8c-source.html">network.c</a>.
<p>
References <a class="el" href="network_8c-source.html#l00096">Network_SetActive()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="g17066cbe7e4510e8c89bba318140ff30"></a><!-- doxytag: member="network.c::ServerSocketAccept" ref="g17066cbe7e4510e8c89bba318140ff30" args="(void *serverSocket)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void* ServerSocketAccept           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>serverSocket</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Accept an incoming connection to a ServerSocket that you have created. 
<p>
This function will block until a new connection is waiting to be serviced. It returns a regular socket on which you can use <a class="el" href="group___network.html#gc2dd7a75d0883f0ba4ae4fede6305ba5">SocketWrite()</a>, <a class="el" href="group___network.html#ge6f3b8841d0dd31991f348e941be4369">SocketRead()</a> and <a class="el" href="group___network.html#gf952e7296edc68dabf9d059fecfa61da">SocketClose()</a>. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>serverSocket</em>&nbsp;</td><td>a pointer to a ServerSocket that you created </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a pointer to the new socket created to handle the connection </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd>lwIP <p>
<a class="el" href="group___network.html#g19a37ffe799e0d2de090a24a03e38cb7">ServerSocket()</a> </dd></dl>

<p>
Definition at line <a class="el" href="network_8c-source.html#l00524">524</a> of file <a class="el" href="network_8c-source.html">network.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="gd698a1f1aa9b0f2864056a0790417179"></a><!-- doxytag: member="network.c::ServerSocketClose" ref="gd698a1f1aa9b0f2864056a0790417179" args="(void *serverSocket)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int ServerSocketClose           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>serverSocket</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Close a ServerSocket that you have created. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>serverSocket</em>&nbsp;</td><td>A pointer to a ServerSocket. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 if the process was successful. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd>lwIP <p>
<a class="el" href="group___network.html#g19a37ffe799e0d2de090a24a03e38cb7">ServerSocket()</a> </dd></dl>

<p>
Definition at line <a class="el" href="network_8c-source.html#l00540">540</a> of file <a class="el" href="network_8c-source.html">network.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="g7e4b76e6d4a93aa7c281e5cbba6cc584"></a><!-- doxytag: member="network.c::Socket" ref="g7e4b76e6d4a93aa7c281e5cbba6cc584" args="(int address, int port)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void* Socket           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>port</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Make a new TCP socket connected to the address specified. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>an integer specifying the IP address </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>an integer specifying the port to open </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a pointer to the socket created </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd>lwIP... </dd></dl>

<p>
Definition at line <a class="el" href="network_8c-source.html#l00387">387</a> of file <a class="el" href="network_8c-source.html">network.c</a>.
<p>
References <a class="el" href="network_8c-source.html#l00096">Network_SetActive()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="gf952e7296edc68dabf9d059fecfa61da"></a><!-- doxytag: member="network.c::SocketClose" ref="gf952e7296edc68dabf9d059fecfa61da" args="(void *socket)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int SocketClose           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>socket</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Close a TCP socket. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>socket</em>&nbsp;</td><td>A pointer to the existing socket. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Zero if the process was successful. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd>lwIP </dd></dl>

<p>
Definition at line <a class="el" href="network_8c-source.html#l00489">489</a> of file <a class="el" href="network_8c-source.html">network.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ge6f3b8841d0dd31991f348e941be4369"></a><!-- doxytag: member="network.c::SocketRead" ref="ge6f3b8841d0dd31991f348e941be4369" args="(void *socket, void *data, int length)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int SocketRead           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname" nowrap> <em>socket</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>length</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read from a TCP socket. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>socket</em>&nbsp;</td><td>A pointer to the existing socket. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>A pointer to the buffer to read to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>An integer specifying the length in bytes of how much data should be read. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>An integer: length of data read if successful, zero on failure. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd>lwIP </dd></dl>

<p>
Definition at line <a class="el" href="network_8c-source.html#l00412">412</a> of file <a class="el" href="network_8c-source.html">network.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="gc2dd7a75d0883f0ba4ae4fede6305ba5"></a><!-- doxytag: member="network.c::SocketWrite" ref="gc2dd7a75d0883f0ba4ae4fede6305ba5" args="(void *socket, void *data, int length)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int SocketWrite           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname" nowrap> <em>socket</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>length</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write to a TCP socket. 
<p>
In the current implementation, this will be a whole packet. So pack data up into a block before calling this.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>socket</em>&nbsp;</td><td>A pointer to the existing socket. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>A pointer to the buffer to write from. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>An integer specifying the length in bytes of how much data should be written. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>An integer: 'length writen' if successful, 0 on failure. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd>lwIP </dd></dl>

<p>
Definition at line <a class="el" href="network_8c-source.html#l00474">474</a> of file <a class="el" href="network_8c-source.html">network.c</a>.    </td>
  </tr>
</table>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>MAKE Controller Kit</title>
</head>

<body>
<hr size="1">
<div align="left"><font size="2">Last revision: 22 Sep 2006. MAKE Controller Kit, by </font><a href="http://www.makingthings.com"><img src="../resources/logo_brown_small.png" alt="MakingThings" width="100" height="40" border="0" align="middle" longdesc="MakingThings" /></a></div>
</body>
</html>
